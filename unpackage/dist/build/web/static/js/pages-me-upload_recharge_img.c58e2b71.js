(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-me-upload_recharge_img"],{"13c5":function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("d4b5");var n=a(i("6dd3")),s=a(i("560b")),o=a(i("8e31")),r={components:{narBar:n.default,ygyUploadImg:s.default},data:function(){return{data:[],btnSet:{loading:!1,disabled:!1,txt:"上传截图"},info:{title:"",size:200,num:1,iconAddStyle:{fontSize:"200rpx",color:"#42b983"},iconCloseStyle:{fontSize:"60rpx",color:"#f40"}},imgList:[],pageLoading:!0,saveData:{trc20_address:"",amount:"",img1Base64:""}}},onLoad:function(){this.loadData()},methods:{loadData:function(){var t=this;this.request({url:"Home/Index/t5_getRechargeInfo",method:"POST",data:""}).then((function(e){e.data=JSON.parse(t.decrypt(e.data)),1==e.data.status&&(t.data=e.data.data,t.saveData.trc20_address=t.data.trc20_address),t.pageLoading=!1}))},getImgList:function(t){if(null!=t[0]){var e=t[0].substring(0,20),i=t[0].substring(20),a="a1b2c3b4d5e6f7"+e+"a1b2c3b4d5e6f7"+i;this.saveData.img1Base64=a}else this.saveData.img1Base64=t[0]},handleChooseImg:function(t){var e=this;this.saveData.sf1="",this.photo=t.src,this.showup=1;var i=uni.getStorageSync("BASE_URL");uni.uploadFile({url:i+"Home/Login/fileup",filePath:this.photo,name:"file",header:{Authorization:uni.getStorageSync("token")},success:function(t){var i=JSON.parse(t.data);e.saveData.sf1=i.url,e.showup=2},fail:function(){uni.showToast({title:"网络错误",icon:"none",duration:2e3}),e.showup=2}})},saveInfo:function(){var t=this;return null==this.saveData.trc20_address||this.saveData.trc20_address.length<1?(uni.showToast({title:"充值地址错误",icon:"none",duration:1500}),!1):null==this.saveData.amount||this.saveData.amount.length<1?(uni.showToast({title:"请输入充值数量",icon:"none",duration:1500}),!1):""==this.saveData.img1Base64||null==this.saveData.img1Base64?(uni.showToast({title:"请上传充值凭证截图",icon:"none",duration:1500}),!1):(this.btnSet={loading:!0,disabled:!0,txt:"凭证上传中..."},void this.request({url:"Home/Index/t5_saveRecharge",method:"POST",data:this.encrypt(JSON.stringify(this.saveData))}).then((function(e){var i=JSON.parse(t.decrypt(e.data));1==i.status?(uni.showToast({title:i.msg,icon:"none",duration:2e3}),setTimeout((function(){uni.navigateTo({url:"/pages/wallet/recharge_coin"})}),2e3)):(uni.showToast({title:i.msg,icon:"none",duration:2e3}),t.btnSet={loading:!1,disabled:!1,txt:"上传截图"})})))},copy:function(){(0,o.default)({content:this.saveData.trc20_address,success:function(t){uni.showToast({title:t,icon:"none"})},error:function(t){uni.showToast({title:t,icon:"none",duration:3e3})}})},toBack:function(){uni.navigateTo({url:"/pages/wallet/recharge_coin"})}}};e.default=r},"1a3f":function(t,e,i){var a=i("8ceb");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("36140de2",a,!0,{sourceMap:!1,shadowMode:!1})},4992:function(t,e,i){"use strict";var a=i("1a3f"),n=i.n(a);n.a},"560b":function(t,e,i){"use strict";i.r(e);var a=i("c2e3"),n=i("7223");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("4992");var o=i("828b"),r=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"4a1712d0",null,!1,a["a"],void 0);e["default"]=r.exports},"58b8":function(t,e,i){"use strict";var a=i("b9a3"),n=i.n(a);n.a},"5c9a":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var a={ygyUploadImg:i("560b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("narBar",{attrs:{title:t.getLg("上传充值凭证")},on:{back:function(e){arguments[0]=e=t.$handleEvent(e),t.toBack()}}}),i("v-uni-view",{staticClass:"main"},[i("v-uni-view",{staticClass:"vpform_vsel",staticStyle:{"margin-top":"40rpx"}},[i("v-uni-view",[t._v(t._s(t.saveData.trc20_address))]),i("v-uni-view",{staticClass:"vcenter",staticStyle:{height:"100%"}},[i("v-uni-view",{staticClass:"vpline"}),i("v-uni-image",{staticStyle:{width:"48rpx",height:"48rpx"},attrs:{src:"/static/wallet/recharge/copy.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.copy()}}})],1)],1),i("v-uni-view",{staticClass:"vsplit"}),i("v-uni-view",{staticClass:"vpform_item vbetween"},[i("v-uni-input",{staticClass:"vpform_item_input2",attrs:{type:"digit",maxlength:"30",placeholder:"请输入充值数量"},model:{value:t.saveData.amount,callback:function(e){t.$set(t.saveData,"amount",e)},expression:"saveData.amount"}}),i("v-uni-view",{staticClass:"vcenter vmr30"},[i("v-uni-text",{staticClass:"vfm",staticStyle:{"font-weight":"500","font-size":"28rpx",color:"#39E8BE","margin-right":"14rpx"}},[t._v("RMB")])],1)],1),i("v-uni-view",{staticClass:"vsplit"}),i("v-uni-view",{staticClass:"vpform_uploadimg"},[i("ygy-upload-img",{attrs:{title:t.info.title,infoType:4,sizew:"580",sizeh:"380",num:t.info.num,iconAddStyle:t.info.iconAddStyle,iconCloseStyle:t.info.iconCloseStyle},on:{saveImg:function(e){arguments[0]=e=t.$handleEvent(e),t.getImgList.apply(void 0,arguments)}}})],1),i("v-uni-button",{staticClass:"vpform_button",staticStyle:{"margin-top":"38rpx"},attrs:{loading:t.btnSet.loading,disabled:t.btnSet.disabled},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.saveInfo.apply(void 0,arguments)}}},[t._v(t._s(t.btnSet.txt))])],1)],1)},s=[]},7223:function(t,e,i){"use strict";i.r(e);var a=i("8915"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},"86cc":function(t,e,i){"use strict";i.r(e);var a=i("5c9a"),n=i("b468");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("58b8");var o=i("828b"),r=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"5caba5cc",null,!1,a["a"],void 0);e["default"]=r.exports},8915:function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("e838"),i("e966"),i("aa9c"),i("bf0f");var n=a(i("2634")),s=a(i("2fdc")),o={name:"ygy-upload-img",props:{title:{required:!1,default:"上传图片:"},num:{required:!1,default:3},showType:{required:!1,default:1},infoType:{required:!1,default:1},size:{required:!1,default:150},sizew:{required:!1,default:150},sizeh:{required:!1,default:150},iconAddStyle:{required:!1,default:function(){return{fontSize:"130rpx"}}},iconCloseStyle:{required:!1,default:function(){return{fontSize:"50rpx"}}}},data:function(){return{imgList:[],imgBase64List:[]}},methods:{chooseImage:function(){var t=this;uni.chooseImage({count:this.num,sizeType:["compressed"],sourceType:["album"],success:function(){var e=(0,s.default)((0,n.default)().mark((function e(i){var a,s,o,r,c,u,l,d;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getImgInfo(i.tempFilePaths[0]);case 2:return a=e.sent,console.log(i.tempFiles[0].size+"<<<<<<<<<<"),s=a.width,o=a.height,r=0,c=0,a.width>800?(s=800,r=parseFloat(a.width/800).toFixed(2),o=parseInt(a.height/r),console.log("宽度大于800，值："+a.width+"，已设置为800,比例："+r+",原始高度："+a.height+",新高度："+o)):console.log("宽度小于800，当前："+a.width),o>1024?(u=o,l=s,o=1024,c=parseFloat(u/1024).toFixed(2),s=parseInt(s/c),console.log("高度大于1024，值："+u+"，已设置为1024,比例："+c+",原始宽度："+l+",新宽度："+s)):console.log("高度小于1024，当前："+o),uni.setStorageSync("uImg",i.tempFilePaths[0]),t.imgList.push(i.tempFilePaths[0]),e.next=14,t.detailImage(i.tempFilePaths[0]);case 14:d=e.sent,t.imgBase64List.push(d),t.$emit("saveImg",t.imgBase64List);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})},perviewImg:function(t){var e=[];-1!=t?e[0]=this.imgList[t]:e=this.imgList,uni.previewImage({urls:e})},handleRemove:function(t){for(var e=[],i=[],a=0;a<this.imgList.length;a++)a!=t&&(e.push(this.imgList[a]),i.push(this.imgBase64List[a]));this.imgList=e,this.imgBase64List=i,this.$emit("saveImg",this.imgBase64List)},setImg:function(t,e,i){return new Promise((function(a,n){uni.compressImage({src:t,quality:80,compressedWidth:e,compressHeight:i,success:function(t){a(t.tempFilePath)}})}))},getImgInfo:function(t){return new Promise((function(e,i){uni.getImageInfo({src:t,success:function(t){e(t)}})}))},detailImage:function(t){return new Promise((function(e,i){uni.request({url:t,method:"GET",responseType:"arraybuffer",success:function(t){var i=uni.arrayBufferToBase64(t.data);i="data:image/jpeg;base64,"+i,e(i)},fail:function(t){i(t)}})}))}}};e.default=o},"8ceb":function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,'/* @font-face {\r\n\tfont-family: "iconfont";\r\n\tsrc: url(\'~@/components/ygy-upload-img/iconfont/iconfont.ttf\') format(\'truetype\');\r\n} */.iconfont[data-v-4a1712d0]{font-family:iconfont!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-jiahao2[data-v-4a1712d0]:before{content:"\\e604"}.icon-close-circle-fill[data-v-4a1712d0]:before{content:"\\e844"}.icon-close_circle[data-v-4a1712d0]:before{content:"\\e66e"}.icon-jiahao[data-v-4a1712d0]:before{content:"\\e726"}.ygy-upload-img-container[data-v-4a1712d0]{\r\n\t/* margin: 5rpx; */}.title[data-v-4a1712d0]{margin:%?15?% 0;white-space:nowrap}.content[data-v-4a1712d0]::after{content:"";display:block;clear:both}.ygy-img[data-v-4a1712d0]{overflow:hidden;float:left;position:relative;height:%?100?%;width:%?100?%;margin:%?5?%;border:1px solid #eee;border-radius:5px}.ygy-img-add[data-v-4a1712d0]{float:left;margin:%?5?%;height:%?100?%;width:%?100?%;display:flex;justify-content:center;align-items:center}.ygy-img-add>uni-text[data-v-4a1712d0]{font-size:%?80?%;color:#fff}.ygy-img>uni-image[data-v-4a1712d0]{height:%?100?%;width:%?100?%}.ygy-icon-close[data-v-4a1712d0]{width:%?20?%;height:%?20?%;position:absolute;right:%?0?%;top:%?0?%;color:#fa3534}.ygy-icon-close>uni-text[data-v-4a1712d0]{position:absolute;right:%?0?%;top:%?0?%;color:#fa3534}',""]),t.exports=e},"8e31":function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.content,i=t.success,a=t.error;if(!e)return a("复制的内容不能为空 !");e="string"===typeof e?e:e.toString(),document.queryCommandSupported("copy")||a("浏览器不支持");var n=document.createElement("textarea");n.value=e,n.readOnly="readOnly",document.body.appendChild(n),n.select(),n.setSelectionRange(0,e.length);var s=document.execCommand("copy");s?i("复制成功~"):a("复制失败，请检查h5中调用该方法的方式，是不是用户点击的方式调用的，如果不是请改为用户点击的方式触发该方法，因为h5中安全性，不能js直接调用！");n.remove()},i("c9b5"),i("bf0f"),i("ab80")},b468:function(t,e,i){"use strict";i.r(e);var a=i("13c5"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},b9a3:function(t,e,i){var a=i("ea2e");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("21e34d66",a,!0,{sourceMap:!1,shadowMode:!1})},c2e3:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"ygy-upload-img-container"},[t.title?i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.title))]):t._e(),i("v-uni-view",{staticClass:"content"},[t._l(t.imgList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"ygy-img",style:{width:t.sizew+"rpx",height:t.sizeh+"rpx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.perviewImg(a)}}},[e&&1==t.showType?i("v-uni-image",{style:{width:t.sizew+"rpx",height:t.sizeh+"rpx"},attrs:{src:e}}):t._e(),1==t.showType?i("v-uni-view",{staticClass:"ygy-icon-close",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.handleRemove(a)}}},[i("v-uni-text",{staticClass:"iconfont icon-close-circle-fill",style:t.iconCloseStyle})],1):t._e()],1)})),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.imgList.length<t.num,expression:"imgList.length<num"}],staticClass:"ygy-img-add",style:{width:t.sizew+"rpx",height:t.sizeh+"rpx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseImage.apply(void 0,arguments)}}},[1==t.infoType?i("v-uni-image",{staticStyle:{width:"500rpx",height:"auto"},attrs:{mode:"widthFix",src:"/static/wallet/set/front.png"}}):t._e(),2==t.infoType?i("v-uni-image",{staticStyle:{width:"500rpx",height:"auto"},attrs:{mode:"widthFix",src:"/static/wallet/set/back.png"}}):t._e(),3==t.infoType?i("v-uni-image",{staticStyle:{width:"500rpx",height:"auto"},attrs:{mode:"widthFix",src:"/static/wallet/set/photo.png"}}):t._e(),4==t.infoType?i("v-uni-image",{staticStyle:{width:"154rpx",height:"154rpx"},attrs:{mode:"widthFix",src:"/static/wallet/addimg.png"}}):t._e()],1)],2)],1)],1)},n=[]},ea2e:function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-5caba5cc]{background:#0e0e15}body.?%PAGE?%[data-v-5caba5cc]{background:#0e0e15}',""]),t.exports=e}}]);